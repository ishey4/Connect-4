(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),o=(a(16),a(1)),c=a(2),l=a(4),u=a(3),h=a(5),p=a(6),m=(a(7),function(){function e(t){Object(o.a)(this,e),this.filled=!1,this.player=void 0,Object.assign(this,t)}return Object(c.a)(e,[{key:"CreateGameBoard",value:function(t,a){var n=[];n[0]=[],n[0][0]=this;for(var r=0;r<a;r++)for(var s=0;s<t;s++)n[r]||(n[r]=[]),n[r][s]||(n[r][s]=new e({h:s,w:r}));return n}}]),e}()),d=function(e){function t(e){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.player&&this.props.player.color||"rgba(255,255,255,0)";return r.a.createElement("div",{className:"Block",style:{backgroundColor:e}},r.a.createElement("div",null))}}]),t}(r.a.Component),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).clk=function(){a.props.oc(a.props.ary)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){this.props.ary;return r.a.createElement("div",{className:"Column",onClick:this.clk},this.props.ary.map(function(e){return r.a.createElement(d,e)}))}}]),t}(r.a.Component),y=function e(t){Object(o.a)(this,e),this.name=void 0,this.pcs=void 0,this.color=void 0,this.isWinner=!1,Object.assign(this,t)},P=function(e){function t(e){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"updateProp",value:function(e){var t=this;return function(a){var n={};n[e]=a.target.value,t.props.updateValues(n)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"PlayerContainer"},r.a.createElement("div",{className:"player "+(this.props.isWinner?"winner":"")},r.a.createElement("label",null,"Name: ",r.a.createElement("input",{type:"text",value:this.props.name,onChange:this.updateProp("name")})),r.a.createElement("label",null,"Color: ",r.a.createElement("input",{type:"text",value:this.props.color,onChange:this.updateProp("color")})),r.a.createElement("input",{type:"button",value:"Remove",onClick:this.props.Remove})))}}]),t}(r.a.Component),f=function e(t){Object(o.a)(this,e),this.currentTurn=0,this.winner=void 0,Object.assign(this,t)},b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).NG=function(){var e=a.state.H,t=a.state.W;console.log(Object(p.a)(Object(p.a)(a)));var n={};e>0&&t>0&&(n={GameBoard:{h:e,w:t}}),console.log(n),a.props.GameProps.newGame(n)},a.state={},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setVal",value:function(e){var t=this;return function(a){var n=t.state;n[e]=a.target.value,t.setState(n)}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"CurrentTurn"},"Current Turn:",r.a.createElement("select",{value:this.props.GameProps.currentTurn.k,onChange:this.props.GameProps.updateCurrentTurn},this.props.Players.map(function(e){return r.a.createElement("option",{key:e.k,value:e.k},e.name)}))),r.a.createElement("div",{className:"Winner "+(void 0===this.props.GameProps.winner?"hidden":"")},"Winner:",this.props.GameProps.winner&&this.props.GameProps.winner.name),r.a.createElement("div",{className:"NewGame"},r.a.createElement("label",null,"Board:",r.a.createElement("input",{id:"BoardH",type:"number",onClick:this.setVal("H")}),"x",r.a.createElement("input",{id:"BoardW",type:"number",onClick:this.setVal("W")}),r.a.createElement("input",{type:"button",value:"New Game",onClick:this.NG}))))}}]),t}(r.a.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateCurrentTurn=function(e){var t=a.state.GameProps,n=e.target.value;t.currentTurn=a.state.Players.filter(function(e){return e.k==n})[0],a.setState({GameProps:t})},a.state={},Object.assign(a.state,a.options),a.state.counter=a.counter(),a.state.GameProps=new f({updateCurrentTurn:a.updateCurrentTurn,k:a.state.counter(),nextPlayer:a.nextPlayer,colorList:["red","green","blue","yellow","purple"],MOVMENTDIRECTIONS:[{h:1,w:0},{h:0,w:1},{h:1,w:1},{h:-1,w:1}],newGame:a.newGame.bind(Object(p.a)(Object(p.a)(a)))}),a.state.Players=[],a.newGame(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"newGame",value:function(e){e=Object.assign({GameBoard:{h:6,w:7},GameProps:{winner:void 0}},e),this.state.GameBoard=(new m).CreateGameBoard(e.GameBoard.h,e.GameBoard.w);var t={placePiece:this.placePiece.bind(this),checkForWinner:this.checkForWinner.bind(this),winner:void 0};this.state.Players.forEach(function(e){e.isWinner=!1}),Object.assign(this.state.GameProps,t),this.setState(this.state)}},{key:"counter",value:function(){var e=0;return function(){return e+=1}}},{key:"updateVals",value:function(e){var t=this,a=e;return function(e){var n=t.state.Players.indexOf(a),r=Object.assign(t.state.Players[n],e);t.state.Players.splice(n,1,r),t.setState({Players:t.state.Players})}}},{key:"placePiece",value:function(e,t){if(!this.state.GameProps.winner){for(var a,n=this.state.GameProps.currentTurn,r=!1,s=0;s<e.length;s++)e[s].player&&!r&&((a=e[s-1]).player=n,r=!0);r||((a=e[e.length-1]).player=n),this.state.GameProps.checkForWinner({h:a.h,w:a.w},n),this.setState({GameBoard:this.state.GameBoard})}}},{key:"nextPlayer",value:function(){var e,t=this.state.Players.indexOf(this.state.GameProps.currentTurn)+1;e=t>=this.state.Players.length?this.state.Players[0]:this.state.Players[t];var a=this.state.GameProps;return a.currentTurn=e,this.setState({GameProps:a}),a}},{key:"addPlayer",value:function(){var e=this,t=this.state.counter(),a=new y({name:"Player"+(t-1).toString(),color:this.state.GameProps.colorList.pop()});a.k=t,a.updateValues=this.updateVals.bind(this)(a),a.Remove=function(){e.removePlayer(a)};var n=this.state.Players.concat(a);this.setState({Players:n,GameProps:Object.assign(this.state.GameProps,{nextPlayer:function(){return e.nextPlayer()},currentTurn:a})})}},{key:"removePlayer",value:function(e){var t=this.state.Players.indexOf(e);this.state.Players.splice(t,1),this.setState({Players:this.state.Players})}},{key:"getContinuousBlockCount",value:function(e,t,a,n){return this.state.GameBoard[e.w]&&this.state.GameBoard[e.w][e.h]&&this.state.GameBoard[e.w][e.h].player===t?this.getContinuousBlockCount({h:e.h+a.h,w:e.w+a.w},t,a,n+1):n}},{key:"addDir",value:function(e,t){return{h:e.h+t.h,w:e.w+t.w}}},{key:"checkForWinner",value:function(e,t,a,n){var r=this;this.state.GameProps.winner||a||this.state.GameProps.MOVMENTDIRECTIONS.forEach(function(a){var n=r.getContinuousBlockCount(r.addDir(e,a),t,a,1),s={h:-1*a.h,w:-1*a.w};n+r.getContinuousBlockCount(r.addDir(e,s),t,s,1)>=5&&(t.isWinner=!0,r.setState({Players:r.state.Players}),r.setState(Object.assign(r.state.GameProps,{winner:t})))})}},{key:"render",value:function(){var e=this;window.state=this.state;var t=function(t){e.state.GameProps.placePiece(t,e.state.GameProps.nextPlayer),e.state.GameProps.nextPlayer()};return r.a.createElement("div",{className:"connect-4"},r.a.createElement("h1",null,"!Connect 4!"),r.a.createElement("div",{className:"left side"},r.a.createElement(b,Object.assign({},this.state,{key:this.state.GameProps.k})),r.a.createElement("div",{id:"GameBoard"},this.state.GameBoard.map(function(e){return r.a.createElement(v,{ary:e,oc:t})}))),r.a.createElement("div",{className:"right side"},r.a.createElement("div",{className:"bold largeFont"},"Settings"),r.a.createElement("div",{className:"addPlayer"},r.a.createElement("span",{onClick:this.addPlayer.bind(this)},"(Add Player)")),this.state.Players.map(function(e){return r.a.createElement(P,Object.assign({},e,{key:e.k}))})))}}]),t}(n.Component);i.a.render(r.a.createElement(w,null),document.getElementById("root"))},7:function(e,t,a){}},[[10,2,1]]]);
//# sourceMappingURL=main.1ec021b5.chunk.js.map